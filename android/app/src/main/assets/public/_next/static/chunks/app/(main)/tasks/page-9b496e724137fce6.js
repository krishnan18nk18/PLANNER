(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5534],{25373:(e,t,a)=>{Promise.resolve().then(a.bind(a,58060))},45503:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(12115);function r(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},58060:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var s=a(95155),r=a(12115),i=a(30285),n=a(40157);let l=(0,n.A)("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);var d=a(61859),o=a(50286),c=a(86578);let u=(0,n.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),h=(0,n.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var m=a(58260);let p=(0,n.A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var x=a(10518),f=a(18763),w=a(77223),g=a(50172);let y=(0,n.A)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var k=a(6273),v=a(18046),j=a(59434),N=a(1978),b=a(44344),M=a(38382),D=a(26126),A=a(87481);let S=e=>{let t=e.toLowerCase();return t.includes("dog")?(0,s.jsx)(l,{className:"h-6 w-6"}):t.includes("fit")||t.includes("workout")?(0,s.jsx)(d.A,{className:"h-6 w-6"}):t.includes("meeting")||t.includes("review")?(0,s.jsx)(o.A,{className:"h-6 w-6"}):t.includes("coffee")?(0,s.jsx)(c.A,{className:"h-6 w-6"}):t.includes("report")?(0,s.jsx)(u,{className:"h-6 w-6"}):t.includes("design")?(0,s.jsx)(h,{className:"h-6 w-6"}):t.includes("brainstorming")?(0,s.jsx)(o.A,{className:"h-6 w-6"}):t.includes("flights")||t.includes("travel")?(0,s.jsx)(m.A,{className:"h-6 w-6"}):(0,s.jsx)(p,{className:"h-6 w-6"})};function C(e){let{initialTasks:t,setTasks:a}=e,[n,l]=(0,r.useState)(t.sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime())),[d,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(void 0),[h,m]=(0,r.useState)(!1),[p,C]=(0,r.useState)(!1),T=(0,r.useRef)(null),{toast:z}=(0,A.dj)();(0,r.useEffect)(()=>{l(t.sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()))},[t]),(0,r.useEffect)(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(T.current=new e,T.current.continuous=!1,T.current.lang="en-US",T.current.onstart=()=>{m(!0),z({title:"Listening...",description:"Speak your task command."})},T.current.onend=()=>{m(!1)},T.current.onresult=async e=>{let t=e.results[0][0].transcript;m(!1),C(!0),z({title:"Processing...",description:"Understanding your command."});try{let e=await fetch("/api/parse-task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:t})});if(!e.ok)throw Error("Network response was not ok");let s=await e.json(),r=new Date(s.dueDate);r.setHours(12,0,0,0);let i={...s,id:Date.now().toString(),completed:!1,dueDate:r.toISOString()};a(e=>[...e,i].sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime())),z({variant:"default",title:"Task Added",description:'Added "'.concat(i.title,'" to your journey.')})}catch(e){z({variant:"destructive",title:"Error",description:"Could not understand the task. Please try again."})}finally{C(!1)}},T.current.onerror=e=>{m(!1),C(!1),z({variant:"destructive",title:"Voice Error",description:e.error})})},[z,a]);let H=e=>{a(n.map(t=>t.id===e?{...t,completed:!t.completed}:t))},E=e=>{a(n.filter(t=>t.id!==e))},P=e=>{u(e),o(!0)},O={High:"from-red-500 to-orange-400",Medium:"from-yellow-400 to-orange-400",Low:"from-blue-400 to-purple-400"},$={High:"destructive",Medium:"secondary",Low:"outline"};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("div",{className:"absolute left-6 md:left-1/2 -ml-px h-full w-0.5 bg-gradient-to-b from-transparent via-border to-transparent"}),(0,s.jsx)("div",{className:"space-y-12",children:n.map((e,t)=>(0,s.jsxs)(N.P.div,{initial:{opacity:0,x:t%2==0?-100:100},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*t},className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group",children:[(0,s.jsx)("div",{className:(0,j.cn)("absolute left-6 md:left-1/2 top-1/2 -ml-[9px] -mt-[9px] w-5 h-5 rounded-full border-4",e.completed?"bg-green-500 border-background":"bg-primary border-background")}),(0,s.jsx)("div",{className:"w-full md:w-[calc(50%-2rem)]",children:(0,s.jsxs)(N.P.div,{whileHover:{scale:1.05},className:(0,j.cn)("glass-card text-white p-4 rounded-2xl cursor-pointer shadow-lg hover:shadow-xl transition-all duration-300","bg-gradient-to-br",e.completed?"from-green-500/80 to-emerald-600/80":O[e.priority]),onClick:()=>P(e),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:S(e.title)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-lg",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-white/80",children:(0,j.Y)(e.dueDate)})]})]}),(0,s.jsx)(D.E,{variant:e.completed?"default":$[e.priority],className:(0,j.cn)(e.completed&&"bg-green-600"),children:e.priority})]}),e.description&&(0,s.jsx)("p",{className:"text-sm mt-2 text-white/90",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 mt-4",children:[(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8 bg-white/20 hover:bg-white/30 text-white",onClick:t=>{t.stopPropagation(),H(e.id)},children:(0,s.jsx)(x.A,{className:"h-4 w-4"})}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8 bg-white/20 hover:bg-white/30 text-white",onClick:t=>{t.stopPropagation(),P(e)},children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8 bg-red-500/50 hover:bg-red-500/70 text-white",onClick:t=>{t.stopPropagation(),E(e.id)},children:(0,s.jsx)(w.A,{className:"h-4 w-4"})})]})]})})]},e.id))})]}),(0,s.jsxs)("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col gap-4",children:[(0,s.jsx)(i.$,{onClick:()=>{if(!T.current)return void z({variant:"destructive",title:"Not Supported",description:"Speech recognition is not supported in your browser."});h?T.current.stop():T.current.start()},disabled:p,className:(0,j.cn)("rounded-full w-16 h-16 bg-gradient-to-br from-pink-500 to-orange-500 hover:scale-110 transition-transform shadow-lg text-white",h&&"animate-pulse border-4 border-pink-300",p&&"cursor-not-allowed"),children:p?(0,s.jsx)(g.A,{className:"h-8 w-8 animate-spin"}):h?(0,s.jsx)(y,{className:"h-8 w-8"}):(0,s.jsx)(k.A,{className:"h-8 w-8"})}),(0,s.jsx)(i.$,{onClick:()=>{u(void 0),o(!0)},className:"rounded-full w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 hover:scale-110 transition-transform shadow-lg text-white animate-float",children:(0,s.jsx)(v.A,{className:"h-8 w-8"})})]}),(0,s.jsx)(M.cj,{open:d,onOpenChange:o,children:(0,s.jsxs)(M.h,{className:"glass-card text-card-foreground border-border/20",children:[(0,s.jsxs)(M.Fm,{children:[(0,s.jsx)(M.qp,{className:"font-headline text-2xl",children:c?"Edit Task":"Add New Task"}),(0,s.jsx)(M.Qs,{children:c?"Edit your existing task.":"Add a new task to your list."})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(b.e,{onSubmit:c?e=>{a(n.map(t=>t.id===e.id?e:t).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime())),o(!1),u(void 0)}:e=>{a([...n,{...e,id:Date.now().toString(),completed:!1}].sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime())),o(!1)},task:c})})]})})]})}var T=a(23769),z=a(62863),H=a(35317),E=a(3310),P=a(40610);function O(){let{user:e}=(0,z.Jd)(),{db:t}=(0,z.jt)(),{data:a,loading:r}=(0,T.G)(e?"users/".concat(e.uid,"/tasks"):null),i=async s=>{if(!t||!e)return;(0,H.rJ)(t,"users",e.uid,"tasks");let r="function"==typeof s?s(a||[]):s;for(let s of r)if(null==a?void 0:a.find(e=>e.id===s.id)){if(JSON.stringify(a.find(e=>e.id===s.id))!==JSON.stringify(s)){let a=(0,H.H9)(t,"users",e.uid,"tasks",s.id);(0,H.mZ)(a,s).catch(e=>E.d.emit("permission-error",new P.$({path:a.path,operation:"update",requestResourceData:s})))}}else(0,H.gS)((0,H.rJ)(t,"users/".concat(e.uid,"/tasks")),{...s,id:void 0}).catch(t=>E.d.emit("permission-error",new P.$({path:"users/".concat(e.uid,"/tasks"),operation:"create",requestResourceData:s})));if(a){for(let s of a)if(!r.find(e=>e.id===s.id)){let a=(0,H.H9)(t,"users",e.uid,"tasks",s.id);(0,H.kd)(a).catch(e=>E.d.emit("permission-error",new P.$({path:a.path,operation:"delete"})))}}};return r?(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsx)(g.A,{className:"h-12 w-12 animate-spin"})}):(0,s.jsxs)("div",{className:"animate-fade-in",children:[(0,s.jsxs)("div",{className:"space-y-1 mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"My Task Journey"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Scroll through your tasks like a map, from start to finish."})]}),(0,s.jsx)(C,{initialTasks:a||[],setTasks:i})]})}},61859:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]])},77223:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,6287,1790,378,4998,3836,8636,2799,8505,4755,8441,1684,7358],()=>t(25373)),_N_E=e.O()}]);